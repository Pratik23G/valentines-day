<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Valentine's Day, My Love üíï</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Lato:wght@300;400&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --rose: #e8445a;
    --blush: #f7c5cc;
    --cream: #fff8f4;
    --dusty: #c47a8a;
    --gold: #d4a855;
    --deep: #2a1018;
  }

  html { scroll-behavior: smooth; }

  body {
    background: var(--cream);
    font-family: 'Lato', sans-serif;
    color: var(--deep);
    overflow-x: hidden;
  }

  /* ===== HEARTS RAIN ===== */
  #hearts-canvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
  }

  /* ===== HERO ===== */
  .hero {
    position: relative;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 2rem;
    z-index: 1;
    background: linear-gradient(160deg, #fff0f3 0%, #ffe8d6 60%, #ffd6e0 100%);
  }

  .hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 0%, rgba(232,68,90,0.08) 0%, transparent 70%);
    pointer-events: none;
  }

  .envelope {
    font-size: 5rem;
    cursor: pointer;
    animation: float 3s ease-in-out infinite;
    transition: transform 0.3s;
    filter: drop-shadow(0 8px 24px rgba(232,68,90,0.3));
    margin-bottom: 1.5rem;
    user-select: none;
  }
  .envelope:hover { transform: scale(1.15) rotate(-5deg); }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-18px); }
  }

  .hero-tag {
    font-family: 'Lato', sans-serif;
    font-weight: 300;
    letter-spacing: 0.35em;
    font-size: 0.75rem;
    text-transform: uppercase;
    color: var(--dusty);
    margin-bottom: 0.75rem;
    opacity: 0;
    animation: fadeUp 0.8s 0.3s forwards;
  }

  .hero-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2.4rem, 7vw, 5rem);
    font-style: italic;
    line-height: 1.1;
    color: var(--rose);
    opacity: 0;
    animation: fadeUp 0.9s 0.5s forwards;
    margin-bottom: 0.6rem;
  }

  .hero-sub {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1rem, 3vw, 1.5rem);
    color: var(--dusty);
    opacity: 0;
    animation: fadeUp 0.9s 0.8s forwards;
    margin-bottom: 2.5rem;
  }

  .scroll-hint {
    opacity: 0;
    animation: fadeUp 0.9s 1.4s forwards;
    font-size: 0.8rem;
    letter-spacing: 0.2em;
    color: var(--dusty);
    text-transform: uppercase;
  }
  .scroll-hint span { display: block; animation: bounce 1.5s 2s infinite; }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(6px); }
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ===== OPEN LETTER MODAL ===== */
  .modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(42,16,24,0.6);
    z-index: 100;
    backdrop-filter: blur(4px);
    align-items: center;
    justify-content: center;
    padding: 1.5rem;
  }
  .modal-overlay.active { display: flex; }

  .letter-card {
    background: #fffdf9;
    border-radius: 4px;
    max-width: 540px;
    width: 100%;
    padding: 3rem 2.5rem;
    box-shadow: 0 30px 80px rgba(42,16,24,0.25);
    position: relative;
    animation: letterOpen 0.5s cubic-bezier(0.34,1.56,0.64,1) forwards;
    border-top: 4px solid var(--rose);
    max-height: 90vh;
    overflow-y: auto;
  }

  @keyframes letterOpen {
    from { opacity: 0; transform: scale(0.7) translateY(40px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
  }

  .letter-close {
    position: absolute;
    top: 1rem; right: 1.2rem;
    font-size: 1.6rem;
    cursor: pointer;
    color: var(--dusty);
    line-height: 1;
    transition: color 0.2s, transform 0.2s;
  }
  .letter-close:hover { color: var(--rose); transform: rotate(90deg); }

  .letter-card .salutation {
    font-family: 'Playfair Display', serif;
    font-size: 1.3rem;
    color: var(--rose);
    margin-bottom: 1rem;
  }

  .letter-card p {
    font-size: 1rem;
    line-height: 1.85;
    color: #5a3040;
    margin-bottom: 0.9rem;
  }

  .letter-card .sign {
    margin-top: 1.5rem;
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 1.2rem;
    color: var(--rose);
  }

  .open-btn {
    display: inline-block;
    padding: 0.9rem 2.5rem;
    background: var(--rose);
    color: white;
    font-family: 'Playfair Display', serif;
    font-size: 1.05rem;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 8px 30px rgba(232,68,90,0.35);
    transition: transform 0.2s, box-shadow 0.2s;
    opacity: 0;
    animation: fadeUp 0.9s 1.1s forwards;
    margin-bottom: 2.5rem;
  }
  .open-btn:hover {
    transform: translateY(-3px) scale(1.04);
    box-shadow: 0 14px 40px rgba(232,68,90,0.45);
  }

  /* ===== MEMORIES ===== */
  .memories {
    position: relative;
    z-index: 1;
    padding: 5rem 1.5rem;
    background: linear-gradient(180deg, #fff0f3 0%, #ffe8d6 100%);
  }

  .section-label {
    text-align: center;
    font-size: 0.72rem;
    letter-spacing: 0.4em;
    text-transform: uppercase;
    color: var(--dusty);
    margin-bottom: 0.5rem;
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 5vw, 3.2rem);
    text-align: center;
    color: var(--deep);
    margin-bottom: 3.5rem;
  }
  .section-title em { color: var(--rose); font-style: italic; }

  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    max-width: 1000px;
    margin: 0 auto;
  }

  .mem-card {
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 8px 40px rgba(42,16,24,0.1);
    transition: transform 0.35s cubic-bezier(0.34,1.56,0.64,1), box-shadow 0.35s;
    opacity: 0;
    transform: translateY(40px);
  }

  .mem-card.visible {
    animation: cardIn 0.7s cubic-bezier(0.34,1.56,0.64,1) forwards;
  }

  @keyframes cardIn {
    to { opacity: 1; transform: translateY(0); }
  }

  .mem-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 20px 60px rgba(232,68,90,0.18);
  }

  .mem-img {
    width: 100%;
    height: 280px;
    object-fit: cover;
    object-position: center top;
    display: block;
  }

  .mem-body { padding: 1.5rem; }

  .mem-emoji { font-size: 1.8rem; margin-bottom: 0.5rem; }

  .mem-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    color: var(--deep);
    margin-bottom: 0.4rem;
  }

  .mem-desc {
    font-size: 0.9rem;
    color: #8a5060;
    line-height: 1.6;
  }

  /* ===== REASONS ===== */
  .reasons {
    position: relative;
    z-index: 1;
    padding: 5rem 1.5rem;
    background: #2a1018;
    color: white;
    text-align: center;
  }

  .reasons .section-label { color: var(--blush); }
  .reasons .section-title { color: white; }
  .reasons .section-title em { color: var(--blush); }

  .reasons-list {
    list-style: none;
    max-width: 600px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
  }

  .reasons-list li {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(247,197,204,0.15);
    border-radius: 8px;
    padding: 1.1rem 1.5rem;
    font-family: 'Playfair Display', serif;
    font-size: 1.05rem;
    font-style: italic;
    color: var(--blush);
    opacity: 0;
    transform: translateX(-30px);
    transition: background 0.3s, transform 0.3s;
  }
  .reasons-list li.visible {
    animation: slideIn 0.6s forwards;
  }
  .reasons-list li:hover {
    background: rgba(232,68,90,0.15);
    transform: translateX(5px);
  }

  @keyframes slideIn {
    to { opacity: 1; transform: translateX(0); }
  }

  /* ===== PROMISE ===== */
  .promise {
    position: relative;
    z-index: 1;
    padding: 6rem 1.5rem;
    text-align: center;
    background: linear-gradient(160deg, #fff0f3, #ffe8d6);
  }

  .big-heart {
    font-size: 6rem;
    animation: heartbeat 1.2s ease-in-out infinite;
    display: block;
    margin: 0 auto 1.5rem;
    filter: drop-shadow(0 8px 20px rgba(232,68,90,0.4));
  }

  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    15% { transform: scale(1.18); }
    30% { transform: scale(1); }
    45% { transform: scale(1.1); }
  }

  .promise-text {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.4rem, 4vw, 2.2rem);
    font-style: italic;
    color: var(--deep);
    max-width: 600px;
    margin: 0 auto 1.5rem;
    line-height: 1.5;
  }
  .promise-text em { color: var(--rose); }

  .promise-sign {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    color: var(--dusty);
  }

  .sparkles {
    position: absolute;
    width: 100%; top: 0; left: 0;
    pointer-events: none;
    overflow: hidden;
    height: 100%;
  }
  .sparkle {
    position: absolute;
    width: 6px; height: 6px;
    background: var(--gold);
    border-radius: 50%;
    animation: twinkle 2.5s infinite;
  }
  @keyframes twinkle {
    0%, 100% { opacity: 0; transform: scale(0); }
    50% { opacity: 1; transform: scale(1); }
  }

  .confetti-piece {
    position: fixed;
    width: 8px; height: 8px;
    border-radius: 2px;
    pointer-events: none;
    z-index: 9999;
    animation: confettiFall 1.2s ease-out forwards;
  }
  @keyframes confettiFall {
    to { opacity: 0; transform: translateY(200px) rotate(720deg); }
  }

  /* ===== MUSIC PLAYER ===== */
  .music-player {
    position: fixed;
    bottom: 1.5rem;
    right: 1.5rem;
    z-index: 200;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    background: rgba(42,16,24,0.88);
    backdrop-filter: blur(14px);
    border: 1px solid rgba(247,197,204,0.2);
    border-radius: 60px;
    padding: 0.6rem 1.1rem 0.6rem 0.6rem;
    box-shadow: 0 8px 32px rgba(42,16,24,0.35);
    transition: all 0.3s ease;
    animation: slideInPlayer 0.8s 2s cubic-bezier(0.34,1.56,0.64,1) both;
  }

  @keyframes slideInPlayer {
    from { opacity: 0; transform: translateY(60px) scale(0.8); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  .music-player:hover {
    background: rgba(42,16,24,0.96);
    box-shadow: 0 12px 40px rgba(232,68,90,0.3);
  }

  .play-btn {
    width: 40px; height: 40px;
    border-radius: 50%;
    background: var(--rose);
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    transition: transform 0.2s, background 0.2s;
    flex-shrink: 0;
    box-shadow: 0 4px 14px rgba(232,68,90,0.5);
  }
  .play-btn:hover { transform: scale(1.12); background: #d63550; }

  .music-info {
    display: flex;
    flex-direction: column;
    min-width: 0;
  }

  .music-title {
    font-size: 0.78rem;
    font-weight: 400;
    color: white;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 160px;
  }

  .music-artist {
    font-size: 0.68rem;
    color: var(--blush);
    opacity: 0.8;
  }

  .music-bars {
    display: flex;
    align-items: flex-end;
    gap: 2px;
    height: 18px;
    margin-left: 2px;
  }

  .music-bars span {
    display: block;
    width: 3px;
    border-radius: 2px;
    background: var(--rose);
    animation: bar 0.9s ease-in-out infinite alternate;
  }
  .music-bars span:nth-child(1) { height: 6px;  animation-delay: 0s;    animation-duration: 0.8s; }
  .music-bars span:nth-child(2) { height: 14px; animation-delay: 0.15s; animation-duration: 0.65s; }
  .music-bars span:nth-child(3) { height: 10px; animation-delay: 0.3s;  animation-duration: 0.9s; }
  .music-bars span:nth-child(4) { height: 16px; animation-delay: 0.1s;  animation-duration: 0.7s; }
  .music-bars span:nth-child(5) { height: 8px;  animation-delay: 0.25s; animation-duration: 0.85s; }

  .music-bars.paused span { animation-play-state: paused; }

  @keyframes bar {
    from { transform: scaleY(0.3); opacity: 0.5; }
    to   { transform: scaleY(1);   opacity: 1; }
  }
</style>
</head>
<body>

<canvas id="hearts-canvas"></canvas>

<!-- ‚úÖ AUDIO TAG ‚Äî lives here in HTML body, NOT inside <script> -->
<audio id="bgMusic" loop preload="auto">
  <source src="song/Stephen%20Sanchez%20-%20Until%20I%20Found%20You%20(Official%20Video).mp3" type="audio/mpeg">
</audio>

<!-- MUSIC PLAYER UI -->
<div class="music-player" id="musicPlayer">
  <button class="play-btn" id="playBtn" onclick="toggleMusic()" title="Play / Pause">‚ñ∂</button>
  <div class="music-info">
    <span class="music-title">Until I Found You</span>
    <span class="music-artist">Stephen Sanchez</span>
  </div>
  <div class="music-bars paused" id="musicBars">
    <span></span><span></span><span></span><span></span><span></span>
  </div>
</div>

<!-- HERO -->
<section class="hero">
  <div class="envelope" onclick="openLetter()" title="Click to open!">üíå</div>
  <p class="hero-tag">February 14, 2026 &nbsp;¬∑&nbsp; Happy Valentine's Day</p>
  <h1 class="hero-title">For the girl who has<br>my whole heart</h1>
  <p class="hero-sub">I know I dropped the ball today ‚Äî but my love for you never does.</p>
  <button class="open-btn" onclick="openLetter()">Open Your Letter üíï</button>
  <p class="scroll-hint">Scroll to our memories <span>‚Üì</span></p>
</section>

<!-- LETTER MODAL -->
<div class="modal-overlay" id="letterModal" onclick="closeIfOverlay(event)">
  <div class="letter-card">
    <span class="letter-close" onclick="closeLetter()">√ó</span>
    <p class="salutation">My love,</p>
    <p>I messed up today, and I'm not going to dress it up. You deserved roses on your doorstep, a reservation somewhere you'd have to dress up for, and me ‚Äî actually present, actually trying. I didn't give you any of that, and I'm sorry. Genuinely.</p>
    <p>But here's what I need you to know: I think about you constantly. The way you looked at me on that cliff in Big Sur, half laughing, half exasperated at the wind ‚Äî I'd drive that whole coast again just to see that face. The way you held that little dog at sunset like you'd known it your whole life. The way you smiled on our anniversary surrounded by roses and cake and that ridiculous giant teddy bear ‚Äî like the whole world had gotten it right for once. That smile, <em>your</em> smile, is something I never want to stop being the reason for.</p>
    <p>You make me want to be the version of myself that actually shows up. That plans things. That doesn't take ordinary Tuesdays with you for granted, let alone Valentine's Day. I'm still working on that guy ‚Äî but you make me want to be him badly.</p>
    <p>I love you in the quiet, unglamorous, everyday way that doesn't always look like enough from the outside. But it's real, and it's deep, and it's all yours.</p>
    <p>Let me make today up to you. You pick everything. I'll be there.</p>
    <p class="sign">‚Äî Yours, completely üåπ</p>
  </div>
</div>

<!-- MEMORIES -->
<section class="memories">
  <p class="section-label">Look how far we've come</p>
  <h2 class="section-title">Our <em>Favorite</em> Moments</h2>
  <div class="cards-grid">

    <div class="mem-card" data-delay="0">
      <img class="mem-img" src="img/IMG_2337.jpeg" alt="Big Sur">
      <div class="mem-body">
        <div class="mem-emoji">üåä</div>
        <h3 class="mem-title">Big Sur, Together</h3>
        <p class="mem-desc">Standing at the edge of the world with you, watching the waves crash below Bixby Bridge. That coordinated fit? Iconic.</p>
      </div>
    </div>

    <div class="mem-card" data-delay="150">
      <img class="mem-img" src="img/IMG_2949.jpeg" alt="Sunset" style="object-position: center center;">
      <div class="mem-body">
        <div class="mem-emoji">üåÖ</div>
        <h3 class="mem-title">Golden Hour by the Sea</h3>
        <p class="mem-desc">You, a tiny fluffy dog, and the most gorgeous sunset ‚Äî this might be the most beautiful photo I've ever seen of you.</p>
      </div>
    </div>

    <div class="mem-card" data-delay="300">
      <img class="mem-img" src="img/att.ZJJUQAicfsQWJv2orfyNNxmzbq2SJl__vQV4GjqeZh8.jpeg" alt="Anniversary" style="object-position: center center;">
      <div class="mem-body">
        <div class="mem-emoji">üíç</div>
        <h3 class="mem-title">Our Anniversary</h3>
        <p class="mem-desc">Roses, a heart-shaped cake, and a giant teddy almost as big as my love for you. This day reminded me exactly why I chose you ‚Äî and I'd choose you a thousand times over.</p>
      </div>
    </div>

  </div>
</section>

<!-- REASONS -->
<section class="reasons">
  <p class="section-label">From the heart</p>
  <h2 class="section-title">Reasons I <em>Love You</em></h2>
  <ul class="reasons-list" id="reasonsList">
    <li data-delay="0">Your laugh ‚Äî it's completely contagious.</li>
    <li data-delay="100">How you match fits and still outshine everyone around.</li>
    <li data-delay="200">The way you smile even when you're annoyed at me.</li>
    <li data-delay="300">You make every adventure ‚Äî even a car ride ‚Äî more fun.</li>
    <li data-delay="400">Your heart is as beautiful as everything else about you.</li>
    <li data-delay="500">You still choose me, every single day. I don't take that lightly.</li>
  </ul>
</section>

<!-- PROMISE -->
<section class="promise">
  <div class="sparkles" id="sparkles"></div>
  <span class="big-heart">‚ù§Ô∏è</span>
  <p class="promise-text">
    "I promise to <em>never</em> let another Valentine's Day go by without making you feel like the most loved person in the world."
  </p>
  <p class="promise-sign">‚Äî Your imperfect but devoted boyfriend üíç</p>
</section>

<script>
// ===== FLOATING HEARTS CANVAS =====
const canvas = document.getElementById('hearts-canvas');
const ctx = canvas.getContext('2d');
let hearts = [];

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener('resize', resize);

function createHeart() {
  return {
    x: Math.random() * canvas.width,
    y: canvas.height + 20,
    size: Math.random() * 14 + 8,
    speed: Math.random() * 1.2 + 0.5,
    opacity: Math.random() * 0.4 + 0.1,
    drift: (Math.random() - 0.5) * 0.6,
    wobble: Math.random() * Math.PI * 2,
    wobbleSpeed: Math.random() * 0.02 + 0.01,
    color: ['#e8445a','#f7c5cc','#d4a855','#c47a8a','#ff9ab2'][Math.floor(Math.random()*5)]
  };
}

function drawHeart(x, y, size, color, opacity) {
  ctx.save();
  ctx.globalAlpha = opacity;
  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.moveTo(x, y);
  ctx.bezierCurveTo(x, y - size/2, x - size, y - size/2, x - size, y);
  ctx.bezierCurveTo(x - size, y + size * 0.7, x, y + size * 1.2, x, y + size * 1.2);
  ctx.bezierCurveTo(x, y + size * 1.2, x + size, y + size * 0.7, x + size, y);
  ctx.bezierCurveTo(x + size, y - size/2, x, y - size/2, x, y);
  ctx.closePath();
  ctx.fill();
  ctx.restore();
}

for (let i = 0; i < 25; i++) {
  const h = createHeart();
  h.y = Math.random() * canvas.height;
  hearts.push(h);
}

function animateHearts() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  hearts.forEach((h, i) => {
    h.wobble += h.wobbleSpeed;
    h.x += h.drift + Math.sin(h.wobble) * 0.4;
    h.y -= h.speed;
    drawHeart(h.x, h.y, h.size, h.color, h.opacity);
    if (h.y < -30) hearts[i] = createHeart();
  });
  if (hearts.length < 35 && Math.random() < 0.02) hearts.push(createHeart());
  requestAnimationFrame(animateHearts);
}
animateHearts();

// ===== LETTER MODAL =====
function openLetter() {
  document.getElementById('letterModal').classList.add('active');
  document.body.style.overflow = 'hidden';
  burst(window.innerWidth / 2, window.innerHeight / 2);
}
function closeLetter() {
  document.getElementById('letterModal').classList.remove('active');
  document.body.style.overflow = '';
}
function closeIfOverlay(e) {
  if (e.target === document.getElementById('letterModal')) closeLetter();
}

// ===== CONFETTI BURST =====
function burst(cx, cy) {
  const colors = ['#e8445a','#f7c5cc','#d4a855','#c47a8a','#ff6b8a','#fff'];
  for (let i = 0; i < 40; i++) {
    const el = document.createElement('div');
    el.className = 'confetti-piece';
    el.style.cssText = `
      left:${cx}px; top:${cy}px;
      background:${colors[Math.floor(Math.random()*colors.length)]};
      transform: translate(${(Math.random()-0.5)*300}px, ${(Math.random()-0.5)*300}px) rotate(${Math.random()*360}deg);
    `;
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 1300);
  }
}

// ===== SCROLL ANIMATIONS =====
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const delay = parseInt(entry.target.dataset.delay || 0);
      setTimeout(() => entry.target.classList.add('visible'), delay);
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.15 });

document.querySelectorAll('.mem-card, #reasonsList li').forEach(el => observer.observe(el));

// ===== SPARKLES =====
const sparkleContainer = document.getElementById('sparkles');
for (let i = 0; i < 18; i++) {
  const s = document.createElement('div');
  s.className = 'sparkle';
  s.style.cssText = `
    left: ${Math.random()*100}%;
    top: ${Math.random()*100}%;
    animation-delay: ${Math.random()*2.5}s;
    animation-duration: ${1.5 + Math.random()*2}s;
    width: ${4 + Math.random()*6}px;
    height: ${4 + Math.random()*6}px;
  `;
  sparkleContainer.appendChild(s);
}

// ===== MUSIC PLAYER =====
const music = document.getElementById('bgMusic');
let isPlaying = false;
let autoPlayDone = false;

function toggleMusic() {
  const btn = document.getElementById('playBtn');
  const bars = document.getElementById('musicBars');
  if (isPlaying) {
    music.pause();
    btn.textContent = '‚ñ∂';
    bars.classList.add('paused');
    isPlaying = false;
  } else {
    music.play().catch(() => {});
    btn.textContent = '‚è∏';
    bars.classList.remove('paused');
    isPlaying = true;
  }
}

// Auto-start on first click anywhere on the page
document.addEventListener('click', function () {
  if (!autoPlayDone) {
    autoPlayDone = true;
    music.play().then(() => {
      document.getElementById('playBtn').textContent = '‚è∏';
      document.getElementById('musicBars').classList.remove('paused');
      isPlaying = true;
    }).catch(() => {
      // Browser blocked ‚Äî she can press ‚ñ∂ manually
    });
  }
});

// Confetti on clicks (exclude modal, buttons, play btn)
document.addEventListener('click', (e) => {
  if (!e.target.closest('.modal-overlay') &&
      !e.target.closest('.open-btn') &&
      !e.target.closest('.envelope') &&
      !e.target.closest('.play-btn')) {
    burst(e.clientX, e.clientY);
  }
});
</script>
</body>
</html>
